<!DOCTYPE html>
<html lang="en" dir="rtl">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <!-- <link rel="stylesheet" href="assets/css/bootstrap.min.css"> -->
  <link rel="stylesheet" href="assets/css/libs/bootstrap-rtl.min.css">
  <link rel="stylesheet" href="assets/css/libs/uicons/uicons-bold-rounded.css">
  <link rel="stylesheet" href="assets/css/libs/uicons/uicons-bold-solid.css">
  <link rel="stylesheet" href="assets/css/libs/uicons/uicons-bold-regular.css">
  <link rel="stylesheet" href="assets/css/theme/style.css">
  <link rel="stylesheet" href="assets/css/theme/monitor-activation.css">
  <title>Monitor Activation</title>
</head>

<body>
  <div class="container-fluid">
    <!-- top-area -->
    <div class="top-area d-flex align-items-center justify-content-between w-100">
      <button type="button" class="theme-btn --lang-btn"><img src="./assets/images/icons/globe.svg" class="img-fluid mr-2" alt="Globe">English</button>
      <button type="button" class="btn back-btn --transparent-btn"><img src="./assets/images/icons/chevron-left.svg" class="img-fluid" alt="Back"></button>
    </div>
    <!-- content -->
    <div class="content d-flex align-items-center justify-content-center flex-column text-center">
      <!-- title -->
      <h1 class="title mb-lg-5 mb-4">تفعيل شاشة جديدة</h1>
      <!-- para -->
      <p class="para">الرجـــاء ادخــــال كــــود التفعيـــل أو قم بشراء نسخـــة جديــــدة</p>
      <!-- code-inputs -->
      <form action="#" method="POST" class="code-inputs">
        <!-- inputs -->
        <div class="inputs d-flex align-items-center justify-content-center mt-lg-5 mt-4 pb-3" dir="ltr">
          <div class="input-div">
            <input type="text" maxlength="6" name="code-1" class="code-input" oninput="checkInput(this, 1)" onpaste="handlePaste(event)">
          </div>
          <div class="input-div">
            <input type="text" maxlength="6" name="code-2" class="code-input" oninput="checkInput(this, 2)">
          </div>
          <div class="input-div">
            <input type="text" maxlength="6" name="code-3" class="code-input" oninput="checkInput(this, 3)">
          </div>
        </div>
        <!-- warning-msg -->
        <div class="warning-msg">
          <i class="fi fi-rr-exclamation mr-2"></i>
          <span>يرجى التأكـــد من الكــود حيث ان الكــود الذي أدخلته ربمــا يكــون خطـــأ او تم تفعيلــه مسبقــــاً</span>
        </div>
        <!-- buttons -->
        <div class="buttons d-flex align-items-center justify-content-center flex-wrap mt-lg-5 mt-4 pt-3">
          <button type="submit" class="theme-btn --fill-primary rounded-pill --btn-size-xl" id="submit-btn" disabled>تفعيل الحساب</button>
          <a href="#" class="theme-btn --outline-primary rounded-pill --btn-size-xl">شراء النسخة</a>
        </div>
      </form>
      <!-- copyright-main-section -->
      <div class="crt">
        <img src="./assets/images/logos/mtx.png" class="img-fluid crt-img mr-2" alt="Matrix">
        <span class="crt-text">Powered by</span>
      </div>
    </div>
  </div>
  <script src="assets/js/jQuery-3.7.1.min.js"></script>
  <script src="assets/js/bootstrap.min.js"></script>
  <script>
    // Get all input elements with class "code-input"
    var codeInputs = document.getElementsByClassName("code-input");

    // Add event listener to each input field
    for (var i = 0; i < codeInputs.length; i++) {
      codeInputs[i].addEventListener("input", function () {
        // Check if all inputs have the correct values
        var allInputsValid = true;
        for (var j = 0; j < codeInputs.length; j++) {
          if (codeInputs[j].value.length !== 6) {
            allInputsValid = false;
            break;
          }
        }

        // Enable or disable the button based on input validity
        var btn = document.getElementById("submit-btn");
        if (allInputsValid) {
          btn.disabled = false;
        } else {
          btn.disabled = true;
        }
      });
    }

    function checkInput(input, currentField) {
      var inputValue = input.value;

      // Remove non-alphanumeric characters
      inputValue = inputValue.replace(/[^A-Za-z0-9]/g, '');

      // Limit the input length to 6 characters
      if (inputValue.length > 6) {
        inputValue = inputValue.slice(0, 6);
      }

      input.value = inputValue;

      if (inputValue.length === 6) {
        if (currentField < 3) {
          var nextField = currentField + 1;
          var nextInput = document.getElementsByName("code-" + nextField)[0];
          nextInput.focus();
        }
      }
    }

    function handlePaste(e) {
      var clipboardData, pastedData;

      // Get the clipboard data
      clipboardData = e.clipboardData || window.clipboardData;
      pastedData = clipboardData.getData('Text');

      // Remove non-alphanumeric characters from pasted data
      pastedData = pastedData.replace(/[^A-Za-z0-9]/g, '');

      // Distribute the cleaned pasted code to the input fields
      for (var i = 0; i < codeInputs.length; i++) {
        var startIndex = (i * 6);
        var endIndex = (i * 6) + 6;
        codeInputs[i].value = pastedData.substring(startIndex, endIndex);
      }
    }
  </script>
</body>

</html>